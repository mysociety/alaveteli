<% content_for :javascript_head do %>
  <%= javascript_importmap_tags("public") %>
<% end %>

<%= render partial: 'tabs' %>

<h1><%= @title %></h1>

<div data-controller="request-category">

<div class="request-category-filter hide" data-request-category-target="filter">
  <label for="request-category-filter-input"><%= _("Filter by topic or area of interest") %></label>
  <input type="search" id="request-category-filter-input" autocomplete="off" data-request-category-target="input" data-action="input->request-category#filter">
</div>

<div class="request-category_container" data-request-category-target="container">
  <% InfoRequest.categories.each do |heading| %>
    <% next unless heading.children.present? %>
    <div class="request-category">
      <h3><%= heading.title %></h3>
      <ul>
        <% heading.children.each do |category| %>
          <% next unless category.category_tag.present? %>
          <li>
            <%= link_to category.title, request_list_path(tag: category.category_tag) %>
          </li>
        <% end %>
      </ul>
    </div>
  <% end %>
</div>

</div>
